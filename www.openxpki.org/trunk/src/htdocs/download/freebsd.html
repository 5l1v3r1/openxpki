<%attr>
  title => 'Ports for FreeBSD'
</%attr>

<h2>OpenXPKI ports for FreeBSD</h2> 
<h3>OpenXPKI suite</h3>
<p>
A collection of FreeBSD ports for the OpenXPKI suite - Perl based trustcenter 
software for PKI: server and client parts along with deployment tools.
</p>
<ul>
<li>
p5-openxpki: core for server part
</li><li>
p5-openxpki-client: base class for actual clients
</li><li>
p5-openxpki-i18n: internationalization of the user interface
</li><li>
p5-openxpki-client-cli: command line interface to local OpenXPKI daemon
</li><li>
p5-openxpki-client-html-mason: web interface to local OpenXPKI daemon
</li><li>
p5-openxpki-client-scep: set of SCEP tools
</li><li>
p5-openxpki-client-soap-lite: set of SOAP-Lite tools
</li><li>
p5-openxpki-deployment: set or deployment tools
</li>
</ul>
<p>
Dependencies of OpenXPKI ports ("A &#8594; B" means that port B depends on port A):
</p>
<pre>
p5-openxpki-client  &#8592;  p5-openxpki (server) &#8594;  p5-openxpki-i18n
           \ &nbsp;
             \      |  p5-openxpki-client-cli, p5-openxpki-client-html-mason,
               \&#8594;  |  p5-openxpki-client-scep, p5-openxpki-client-soap-lite, 
                    |  p5-openxpki-deployment.
</pre>
<p>
Notes: 
</p>
<ul>
<li>
To get a working server it is recommended to install deployment port too.
Do not forget to undergo deployment procedure itself (by hand).
</li><li>
For effective use of deployment,
it is recommended to install at least one of the clients: ...-cli or ...-mason.
</li><li>
I18n is needed for the English interface as well.
</li>
</ul>
<h3>Ports for release</h3>

<p>
OpenXPKI is included into the distribution of the basic
FreeBSD system as a suite of regular portis under the FreeBSD names
</p><p align=center>
             <tt> <a href="<& /lib/url.mas,
                       host => 'www.freebsd.org',
                       path => '/cgi/ports.cgi?query=openxpki' &>">
              security/p5-openxpki*</a> </tt>
</p><p>
These ports embrace all tools of openxpki
(server-side, client-side, deployment, i18n).
</p><p>
You have to undergo subsequent deployment stage by hand.
This will specify the role, which your computer plays in the
PKI infrastructure.
</p><p>
It is very much NOT recommended to copy only ports
<tt>security/p5-openxpki*</tt> onto your computer, if you wish to install them.
These ports depend on dozens of other ports.
Thus it is essential to have the entire port collection
(present on your computer) in a self-consistent state and
in accord with your base system.
</p><p>
Recommended procedure to make use of the port is:
</p>
<ul>
<li>
Get/upgrade the entire ports collection as described in
              <a href="<& /lib/url.mas,
                       host => 'www.freebsd.org',
                       path => '/doc/en_US.ISO8859-1/books/handbook/ports-using.html' &>">
              a FreeBSD Handbook</a>.
</li><li>
<tt>cd /usr/ports/sysutils/portupgrade && make reinstall clean</tt><br/>
<tt>/usr/local/sbin/portupgrade -NrR security/p5-openxpki</tt><br/>
(Appropriate tarballs of openxpki will be fetched automatically.
Alternatively, you can fetch tarballs of openxpki by hand
and place them into <tt>/usr/ports/distfiles/openxpki/</tt>)
</li><li>
Install your favorite database and web server.
</li><li>
Perform deployment procedure for openxpki in a regular way.
</li><li>
</ul>
<p>
Just in case: FreeBSD employs one and the same port collection
in ALL (stable, current, legacy) versions of FreeBSD.
</p>

<h3>Ports for current svn snapshot</h3>
<p>
If you are impatient and want to play with more recent snapshots of
openxpki, you may try 
</p>
<ul>
<li>
<tt>svn update</tt>, 
</li><li>
update your ports collection (see above), 
</li><li>
<tt>cd .../trunk/package/freebsd/build-dist-and-update-checksum.sh</tt>
</li><li>
run the script
<tt>build-dist-and-update-checksum.sh</tt>.
This will build tarballs and place them into
<tt>.../trunk/package/freebsd/usr/ports/distfiles/openxpki/</tt>.
Then it will also modify files: 
<tt>.../trunk/package/freebsd/usr/ports/security/openxpki*/Makefile</tt>.
Checksums for tarballs will be updated too.
</li><li>
Then for each port run the script
<tt>update-port.sh _name_of_port_</tt>.
This will update file <tt>pkg-plist</tt> related to the port.
</ul>
<p>
You should end up with updated collection of ports, which are located 
inside your svn snapshot: 
<tt>.../trunk/package/freebsd/usr/ports/security/openxpki*</tt>.
</p><p>
Please note, that thus modified ports may still need manual trimming.
Especially if new 3-rd party's dependencies were added to the code.
</p><p>
If you find issues with these FreeBSD port, please contact
ports maintainer svysh@cryptocom.ru
</p>






